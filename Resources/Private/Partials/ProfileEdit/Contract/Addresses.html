<html data-namespace-typo3-fluid="true"
      xmlns:f="http://typo3.org/ns/TYPO3/CMS/Fluid/ViewHelpers"
>

<f:if condition="!{contract.physicalAddresses}">
<div class="row mb-3">
    <div class="col-12">
        <h4>Enter address</h4>
        <f:link.action action="addPhysicalAddress" arguments="{profile: profile, contract: contract}" class="btn btn-primary">Add new physical address</f:link.action>
    </div>
</div>
</f:if>
<f:for each="{contract.physicalAddresses}" as="physicalAddress" iteration="physicalAddressIterator">
    <div class="row mb-3">
        <div class="col-12">
            <label for="address-{physicalAddressIterator.index}-type" class="form-label">Type</label>
            <f:form.select
                    property="physicalAddresses.{physicalAddressIterator.index}.type"
                    id="address-{physicalAddressIterator.index}-type"
                    class="form-select"
                    options="{addressTypes}"
            />
        </div>
    </div>
    <div class="row mb-3">
        <div class="col-md-9">
            <label for="address-{physicalAddressIterator.index}-street" class="form-label">Street</label>
            <f:form.textfield
                    property="physicalAddresses.{physicalAddressIterator.index}.street"
                    id="address-{physicalAddressIterator.index}-street"
                    class="form-control"
                    maxlength="120"
                    required="1"
            />
        </div>
        <div class="col-md-3">
            <label for="address-{physicalAddressIterator.index}-street-number" class="form-label">Number</label>
            <f:form.textfield
                    property="physicalAddresses.{physicalAddressIterator.index}.streetNumber"
                    id="address-{physicalAddressIterator.index}-street-number"
                    class="form-control"
                    maxlength="6"
            />
        </div>
    </div>
    <div class="row mb-3">
        <div class="col-12">
            <label for="address-{physicalAddressIterator.index}-additional" class="form-label">Additional information</label>
            <f:form.textfield
                    property="physicalAddresses.{physicalAddressIterator.index}.additional"
                    id="address-{physicalAddressIterator.index}-additional"
                    class="form-control"
                    maxlength="120"
            />
        </div>
    </div>
    <div class="row mb-3">
        <div class="col-md-4">
            <label for="address-{physicalAddressIterator.index}-zip" class="form-label">Zip</label>
            <f:form.textfield
                    property="physicalAddresses.{physicalAddressIterator.index}.zip"
                    id="address-{physicalAddressIterator.index}-zip"
                    class="form-control"
                    maxlength="10"
                    required="1"
            />
        </div>
        <div class="col-md-8">
            <label for="address-{physicalAddressIterator.index}-city" class="form-label">City</label>
            <f:form.textfield
                    property="physicalAddresses.{physicalAddressIterator.index}.city"
                    id="address-{physicalAddressIterator.index}-city"
                    class="form-control"
                    maxlength="100"
                    required="1"
            />
        </div>
    </div>
    <div class="row mb-3">
        <div class="col-md-4">
            <label for="address-{physicalAddressIterator.index}-state" class="form-label">State</label>
            <f:form.textfield
                    property="physicalAddresses.{physicalAddressIterator.index}.state"
                    id="address-{physicalAddressIterator.index}-state"
                    class="form-control"
                    maxlength="60"
            />
        </div>
        <div class="col-md-8">
            <label for="address-{physicalAddressIterator.index}-country" class="form-label">Country</label>
            <f:form.textfield
                    property="physicalAddresses.{physicalAddressIterator.index}.country"
                    id="address-{physicalAddressIterator.index}-country"
                    class="form-control"
                    maxlength="100"
                    required="1"
            />
        </div>
    </div>
    <div class="row mb-3">
        <div class="col-12">
            <f:link.action action="removePhysicalAddress" arguments="{profile: profile, contract: contract, address: physicalAddress}" class="btn btn-danger">Remove physical address</f:link.action>
        </div>
    </div>
    <f:if condition="!{physicalAddressIterator.isLast}">
        <hr class="mb-3" />
    </f:if>
</f:for>

</html>
