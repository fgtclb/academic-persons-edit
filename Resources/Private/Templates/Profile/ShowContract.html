<html
    data-namespace-typo3-fluid="true"
    xmlns:f="http://typo3.org/ns/TYPO3/CMS/Fluid/ViewHelpers"
>
    <f:layout name="Default" />
    <f:section name="Header">
        <h1>
            Edit for {contract.profile.firstName} {contract.profile.lastName}
        </h1>
    </f:section>
    <f:section name="Content">
        <section class="mt-5">
            <h2>
                Contract data
                |
                <f:link.action
                    action="editContract"
                    arguments="{contract: contract}"
                >
                    Edit
                </f:link.action>
            </h2>
            <table class="table table-striped table-hover">
                <tbody>
                    <tr>
                        <th scope="row" style="white-space: nowrap;">
                            Position
                        </th>
                        <td style="width: 100%">
                            {f:if(
                                condition: contract.position,
                                then: contract.position,
                                else: '-'
                            )}
                        </td>
                    </tr>
                    <tr scope="row">
                        <th scope="row" style="white-space: nowrap;">
                            Organisational unit
                        </th>
                        <td style="width: 100%">
                            {f:if(
                                condition: contract.organisationalUnit.unitName,
                                then: contract.organisationalUnit.unitName,
                                else: '-'
                            )}
                        </td>
                    </tr>
                    <tr>
                        <th scope="row" style="white-space: nowrap;">
                            Function
                        </th>
                        <td style="width: 100%">
                            {f:if(
                                condition: contract.functionType.functionName,
                                then: contract.functionType.functionName,
                                else: '-'
                            )}
                        </td>
                    </tr>
                    <tr>
                        <th scope="row" style="white-space: nowrap;">
                            Valid from
                        </th>
                        <td style="width: 100%">
                            <f:if condition="{contract.validFrom}">
                                <f:then>
                                    {contract.validFrom -> f:format.date(format: 'd.m.Y')}
                                </f:then>
                                <f:else>
                                    -
                                </f:else>
                            </f:if>
                        </td>
                    </tr>
                    <tr>
                        <th scope="row" style="white-space: nowrap;">
                            Valid to
                        </th>
                        <td style="width: 100%">
                            <f:if condition="{contract.validTo}">
                                <f:then>
                                    {contract.validTo -> f:format.date(format: 'd.m.Y')}
                                </f:then>
                                <f:else>
                                    -
                                </f:else>
                            </f:if>
                        </td>
                    </tr>
                    <tr>
                        <th scope="row" style="white-space: nowrap;">
                            Room
                        </th>
                        <td style="width: 100%">
                            {f:if(
                                condition: contract.room,
                                then: contract.room,
                                else: '-'
                            )}
                        </td>
                    </tr>
                    <tr>
                        <th scope="row" style="white-space: nowrap;">
                            Location
                        </th>
                        <td style="width: 100%">
                            {f:if(
                                condition: contract.location.title,
                                then: contract.location.title,
                                else: '-'
                            )}
                        </td>
                    </tr>
                    <tr>
                        <th scope="row" style="white-space: nowrap;">
                            Office hours
                        </th>
                        <td style="width: 100%">
                            {f:if(
                                condition: contract.officeHours,
                                then: contract.officeHours,
                                else: '-'
                            )}
                        </td>
                    </tr>
                    <tr>
                        <th scope="row" style="white-space: nowrap;">
                            Published
                        </th>
                        <td style="width: 100%">
                            <f:if condition="{contract.publish}">
                                <f:then>
                                    <span class="badge text-bg-success">Yes</span>
                                </f:then>
                                <f:else>
                                    <span class="badge text-bg-danger">No</span>
                                </f:else>
                            </f:if>
                        </td>
                    </tr>
                </tbody>
            </table>
        </section>

        <f:comment><!-- Physical addresses --></f:comment>

        <section class="mt-5">
            <h2>
                Addresses
            </h2>
            <table class="table table-striped table-hover">
                <thead>
                    <tr>
                        <th scope="col" style="white-space: nowrap;">
                            Street
                        </th>
                        <th scope="col" style="white-space: nowrap;">
                            Street number
                        </th>
                        <th scope="col" style="white-space: nowrap;">
                            Zip
                        </th>
                        <th scope="col" style="white-space: nowrap;">
                            City
                        </th>
                        <th scope="col" style="white-space: nowrap;">
                            Country
                        </th>
                        <th scope="col" style="white-space: nowrap;">
                            Actions
                        </th>
                    </tr>
                </thead>
                <tbody>
                    <f:if condition="{contract.physicalAddresses}">
                        <f:then>
                            <f:for each="{contract.physicalAddresses}" as="address">
                                <tr>
                                    <td>
                                        {address.street}
                                    </td>
                                    <td>
                                        {address.streetNumber}
                                    </td>
                                    <td>
                                        {address.zip}
                                    </td>
                                    <td>
                                        {address.city}
                                    </td>
                                    <td style="width: 100%">
                                        {address.country}
                                    </td>
                                    <td style="white-space: nowrap;">
                                        <f:link.action
                                            action="editAddress"
                                            arguments="{address: address}"
                                        >
                                            Edit
                                        </f:link.action>
                                        |
                                        <f:link.action
                                            action="deleteAddress"
                                            arguments="{address: address}"
                                        >
                                            Delete
                                        </f:link.action>
                                    </td>
                                </tr>
                            </f:for>
                        </f:then>
                        <f:else>
                            <tr>
                                <td
                                    colspan="99"
                                    class="text-center"
                                >
                                    No addresses found.
                                </td>
                            </tr>
                        </f:else>
                    </f:if>
                </tbody>
            </table>
        </section>

        <f:comment><!-- Email addresses --></f:comment>

        <section class="mt-5">
            <h2>
                Email addresses
            </h2>
            <table class="table table-striped table-hover">
                <thead>
                    <tr>
                        <th scope="col" style="white-space: nowrap;">
                            Type
                        </th>
                        <th scope="col" style="white-space: nowrap;">
                            Email
                        </th>
                        <th scope="col" style="white-space: nowrap;">
                            Actions
                        </th>
                    </tr>
                </thead>
                <tbody>
                    <f:if condition="{contract.emailAddresses}">
                        <f:then>
                            <f:for each="{contract.emailAddresses}" as="emailAddress">
                                <tr>
                                    <td>
                                        {emailAddress.type}
                                    </td>
                                    <td style="width: 100%">
                                        {emailAddress.email}
                                    </td>
                                    <td style="white-space: nowrap;">
                                        <f:link.action
                                            action="editEmailAddress"
                                            arguments="{emailAddress: emailAddress}"
                                        >
                                            Edit
                                        </f:link.action>
                                        |
                                        <f:link.action
                                            action="deleteEmailAddress"
                                            arguments="{emailAddress: emailAddress}"
                                        >
                                            Delete
                                        </f:link.action>
                                    </td>
                                </tr>
                            </f:for>
                        </f:then>
                        <f:else>
                            <tr>
                                <td
                                    colspan="99"
                                    class="text-center"
                                >
                                    No addresses found.
                                </td>
                            </tr>
                        </f:else>
                    </f:if>
                </tbody>
            </table>
        </section>

        <f:comment><!-- Phone numbers --></f:comment>

        <section class="mt-5">
            <h2>Phone numbers</h2>
            <table class="table table-striped table-hover">
                <thead>
                    <tr>
                        <th scope="col" style="white-space: nowrap;">
                            Type
                        </th>
                        <th scope="col" style="white-space: nowrap;">
                            Number
                        </th>
                        <th scope="col" style="white-space: nowrap;">
                            Actions
                        </th>
                    </tr>
                </thead>
                <tbody>
                    <f:if condition="{contract.phoneNumbers}">
                        <f:then>
                            <f:for each="{contract.phoneNumbers}" as="phoneNumber">
                                <tr>
                                    <td>
                                        {phoneNumber.type}
                                    </td>
                                    <td  style="width: 100%">
                                        {phoneNumber.phoneNumber}
                                    </td>
                                    <td style="white-space: nowrap;">
                                        <f:link.action
                                            action="editPhoneNumber"
                                            arguments="{phoneNumber: phoneNumber}"
                                        >
                                            Edit
                                        </f:link.action>
                                        |
                                        <f:link.action
                                            action="deletePhoneNumber"
                                            arguments="{phoneNumber: phoneNumber}"
                                        >
                                            Delete
                                        </f:link.action>
                                    </td>
                                </tr>
                            </f:for>
                        </f:then>
                        <f:else>
                            <tr>
                                <td
                                    colspan="99"
                                    class="text-center"
                                >
                                    No addresses found.
                                </td>
                            </tr>
                        </f:else>
                    </f:if>
                </tbody>
            </table>
        </section>
    </f:section>
</html>